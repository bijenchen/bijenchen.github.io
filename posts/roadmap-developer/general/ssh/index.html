<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.75.1" />
    <meta name="description" content="">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>SSH :: 文科人的資訊筆記</title>

    
    <link href="/css/nucleus.css?1626259974" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1626259974" rel="stylesheet">
    <link href="/css/hybrid.css?1626259974" rel="stylesheet">
    <link href="/css/featherlight.min.css?1626259974" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1626259974" rel="stylesheet">
    <link href="/css/auto-complete.css?1626259974" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1626259974" rel="stylesheet">
    <link href="/css/theme.css?1626259974" rel="stylesheet">
    <link href="/css/hugo-theme.css?1626259974" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1626259974"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    <style>
.publish-date , .update-date {
  text-align: right;
  margin-right: 3%;
}
</style>



  <p class="publish-date" >發布日期：Dec 26, 2020</p>

  
      <p class="update-date">文章於 May 14, 2021 更新</p>
  


  </head>
  <body class="" data-url="/posts/roadmap-developer/general/ssh/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://bijenchen.github.io/">
  <svg id="grav-logo" style="width:100%; height:100%;" viewBox="0 0 504 140" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">
    
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="palette" class="svg-inline--fa fa-palette fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
      <path fill="currentColor" d="M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"></path>
    </svg>
  </svg>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1626259974"></script>
<script type="text/javascript" src="/js/auto-complete.js?1626259974"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/bijenchen.github.io\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1626259974"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/work-journal/" title="Work-journals" class="dd-item 
        
        
        
        ">
      <a href="/work-journal/">
          Work-journals
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/work-journal/20210714/" title="20210714" class="dd-item ">
        <a href="/work-journal/20210714/">
        <b>[工作日誌] </b>20210714
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/work-journal/20210701/" title="20210701" class="dd-item ">
        <a href="/work-journal/20210701/">
        <b>[工作日誌] </b>20210701
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/work-journal/20210629/" title="20210629" class="dd-item ">
        <a href="/work-journal/20210629/">
        <b>[工作日誌] </b>20210629
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/work-journal/20210618/" title="20210618" class="dd-item ">
        <a href="/work-journal/20210618/">
        <b>[工作日誌] </b>20210618
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/work-journal/20210617/" title="報恩報仇不二做，工作反省不貳過！" class="dd-item ">
        <a href="/work-journal/20210617/">
        <b>[工作日誌] </b>20210617
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/posts/" title="Posts" class="dd-item 
        parent
        
        
        ">
      <a href="/posts/">
          Posts
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/posts/roadmap-developer/" title="網頁開發者技能樹" class="dd-item 
        parent
        
        
        ">
      <a href="/posts/roadmap-developer/">
          網頁開發者技能樹
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/posts/roadmap-developer/general/" title="共通知識" class="dd-item 
        parent
        
        
        ">
      <a href="/posts/roadmap-developer/general/">
          共通知識
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/posts/roadmap-developer/general/ssh/" title="SSH" class="dd-item active">
        <a href="/posts/roadmap-developer/general/ssh/">
        <i class="fas fa-key" style="margin: 3px;"></i>SSH
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/posts/roadmap-developer/backend/" title="後端工程師" class="dd-item 
        
        
        
        ">
      <a href="/posts/roadmap-developer/backend/">
          後端工程師
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/posts/roadmap-developer/backend/os-and-general-knowledge/" title="作業系統" class="dd-item 
        
        
        
        ">
      <a href="/posts/roadmap-developer/backend/os-and-general-knowledge/">
          作業系統<i class="fas fa-eye" style="margin: 3px;"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/posts/roadmap-developer/backend/basic-frontend-knowledge/" title="基礎前端概念" class="dd-item 
        
        
        
        ">
      <a href="/posts/roadmap-developer/backend/basic-frontend-knowledge/">
          基礎前端概念<i class="fas fa-eye" style="margin: 3px;"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/posts/roadmap-developer/backend/internet/" title="關於網路" class="dd-item 
        
        
        
        ">
      <a href="/posts/roadmap-developer/backend/internet/">
          關於網路<i class="fas fa-globe" style="margin: 3px;"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/posts/roadmap-developer/backend/internet/what-is-hosting/" title="What Is Hosting" class="dd-item ">
        <a href="/posts/roadmap-developer/backend/internet/what-is-hosting/">
        <i class="fas fa-globe" style="margin: 3px;"></i>網站代管
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/posts/roadmap-developer/backend/internet/what-is-domain-name/" title="What Is Domain Name" class="dd-item ">
        <a href="/posts/roadmap-developer/backend/internet/what-is-domain-name/">
        <i class="fas fa-globe" style="margin: 3px;"></i>域名
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/posts/roadmap-developer/backend/internet/dns-and-how-it-works/" title="Dns and How It Works" class="dd-item ">
        <a href="/posts/roadmap-developer/backend/internet/dns-and-how-it-works/">
        <i class="fas fa-globe" style="margin: 3px;"></i>DNS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/posts/roadmap-developer/backend/internet/browsers-and-how-they-work/" title="Browsers and How They Work" class="dd-item ">
        <a href="/posts/roadmap-developer/backend/internet/browsers-and-how-they-work/">
        <i class="fas fa-globe" style="margin: 3px;"></i>瀏覽器
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/posts/roadmap-developer/backend/internet/what-is-http/" title="What Is Http" class="dd-item ">
        <a href="/posts/roadmap-developer/backend/internet/what-is-http/">
        <i class="fas fa-globe" style="margin: 3px;"></i>Http
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/posts/roadmap-developer/backend/internet/how-does-the-internet-work/" title="How Does the Internet Work" class="dd-item ">
        <a href="/posts/roadmap-developer/backend/internet/how-does-the-internet-work/">
        <i class="fas fa-globe" style="margin: 3px;"></i>網路運作原理
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/posts/2020/" title="2020" class="dd-item 
        
        
        
        ">
      <a href="/posts/2020/">
          2020
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/posts/2020/10/" title="10月" class="dd-item 
        
        
        
        ">
      <a href="/posts/2020/10/">
          10月
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/posts/2020/10/change-custom-style/" title="Change Custom Style" class="dd-item ">
        <a href="/posts/2020/10/change-custom-style/">
        <b>[架個部落格] </b>設定 custom header
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/posts/2020/10/laravel5-book-kj-01/" title="初探&amp;建環境" class="dd-item ">
        <a href="/posts/2020/10/laravel5-book-kj-01/">
        <b>[讀書筆記]Laravel 5 for beginner 新手道場 </b>初探&amp;建環境
        
        </a>
    </li>
     
  
 

            
          
             
            
          
            
            




 
  
    
      <li data-nav-id="/posts/2020/10/setting-github-page-with-hugo/" title="用 hugo 搭配 github page 打造一個自己的部落格" class="dd-item ">
        <a href="/posts/2020/10/setting-github-page-with-hugo/">
        <b>[架個部落格] </b>hugo blog
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/posts/2020/11/" title="11月" class="dd-item 
        
        
        
        ">
      <a href="/posts/2020/11/">
          11月
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/posts/2020/11/google-sheet-formula/" title="google sheet 條件格式設定自訂公式" class="dd-item ">
        <a href="/posts/2020/11/google-sheet-formula/">
        <b>[工作筆記] </b>google sheet 自訂公式
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/posts/2020/11/select-data/" title="Select Data" class="dd-item ">
        <a href="/posts/2020/11/select-data/">
        <b>[工作筆記] </b>報表資料撈取
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/posts/2020/11/su-user/" title="Su User" class="dd-item ">
        <a href="/posts/2020/11/su-user/">
        <b>[工作筆記] </b>在 linux 裡用指令切換使用者
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/posts/2020/11/sleep/" title="Sleep" class="dd-item ">
        <a href="/posts/2020/11/sleep/">
        <b>[工作筆記] </b>程式設計裡的 sleep
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/posts/2020/12/" title="12月" class="dd-item 
        
        
        
        ">
      <a href="/posts/2020/12/">
          12月
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/posts/2020/12/database-index/" title="Index of Database" class="dd-item ">
        <a href="/posts/2020/12/database-index/">
        <b>[工作筆記] </b>資料庫的索引
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/posts/2020/12/sql-case/" title="SQL Syntax : CASE" class="dd-item ">
        <a href="/posts/2020/12/sql-case/">
        <b>[工作筆記] </b>SQL 裡 CASE 的用法
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/posts/2020/12/compare/" title="Compare" class="dd-item ">
        <a href="/posts/2020/12/compare/">
        <b>[工作筆記] </b>各種「比較」
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/posts/2020/12/xaas/" title="XaaS" class="dd-item ">
        <a href="/posts/2020/12/xaas/">
        <b>[名詞解釋] </b>口aaS 系列名詞
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/posts/2021/" title="2021" class="dd-item 
        
        
        
        ">
      <a href="/posts/2021/">
          2021
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/posts/2021/05/" title="05月" class="dd-item 
        
        
        
        ">
      <a href="/posts/2021/05/">
          05月
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://bijenchen.github.io/tags"><i class='fas fa-tags'></i> Tags</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/'>文科人的資訊筆記</a> > <a href='/posts/'>Posts</a> > <a href='/posts/roadmap-developer/'>網頁開發者技能樹</a> > <a href='/posts/roadmap-developer/general/'>共通知識</a> > SSH
          
        
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#作用">作用</a></li>
    <li><a href="#實現方式">實現方式</a>
      <ul>
        <li><a href="#過程">過程</a></li>
      </ul>
    </li>
    <li><a href="#如何增加-ssh-key-到-bitbucket-中並且使用自訂的-hostname">如何增加 ssh key 到 bitbucket 中，並且使用自訂的 hostname</a>
      <ul>
        <li><a href="#連線資訊">連線資訊</a></li>
      </ul>
    </li>
    <li><a href="#如何使用不同的-ssh-key-連線">如何使用不同的 ssh key 連線</a>
      <ul>
        <li><a href="#在-ssh-目錄下建立-config-檔案">在 .ssh 目錄下建立 config 檔案</a></li>
        <li><a href="#config-內容寫法">config 內容寫法</a></li>
      </ul>
    </li>
    <li><a href="#如何使用-ssh-tunnel-連線-port-轉發">如何使用 ssh tunnel 連線 port 轉發</a></li>
    <li><a href="#參考資料">參考資料</a></li>
    <li><a href="#延伸閱讀">延伸閱讀</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
<div class="tags">

  <a class="tag-link" href="/tags/roadmap-developer">roadmap-developer</a>

  <a class="tag-link" href="/tags/general">general</a>

  <a class="tag-link" href="/tags/ssh">ssh</a>

</div>

        </div>
        
        <div id="body-inner">
          
            <h1>
              
              SSH
            </h1>
          

        


<h1 id="sshsecure-shell">SSH(Secure Shell)</h1>
<h2 id="作用">作用</h2>
<p>與遠端伺服器進行較為安全的連線</p>
<h2 id="實現方式">實現方式</h2>
<p>以一組鑰匙(私鑰private key - 公鑰public key)分別存放在自己和遠端伺服器手上，透過配對鑰匙來進行訊息正確解密，達到隱蔽交換資料的目的。</p>
<h3 id="過程">過程</h3>
<p>我們跟遠端伺服器會各自把自己的私鑰留在手上，互相交換公鑰給對方
(也就是交換後，手上持有的是自己的私鑰與對方的公鑰)。</p>
<p>當進行連線時，會先用對方的公鑰加密我們自己發出的訊息，把加密過的訊息傳給對方。</p>
<p>遠端伺服器收到加密過的訊息之後，會用手上的自己的私鑰解密進行解密，讀取正確的訊息內容。</p>
<p>所以，假設現在情境是要登入遠端伺服器，我們就會用手上持有的「遠端伺服器公鑰」把登入資訊加密，接著傳送給遠端伺服器。</p>
<p>伺服器因此會收到「以伺服器公鑰加密過的資料」，這時候因為伺服器手上握有跟這個伺服器公鑰成對的伺服器私鑰，所以可以用伺服器私鑰正確解密。</p>
<p>解密完後伺服器就會看到我們的登入資訊，因而放行讓我們登入。</p>
<h2 id="如何增加-ssh-key-到-bitbucket-中並且使用自訂的-hostname">如何增加 ssh key 到 bitbucket 中，並且使用自訂的 hostname</h2>
<h3 id="連線資訊">連線資訊</h3>
<p><img src="https://i.imgur.com/AqxzkWO.png" alt=""></p>
<h2 id="如何使用不同的-ssh-key-連線">如何使用不同的 ssh key 連線</h2>
<h3 id="在-ssh-目錄下建立-config-檔案">在 .ssh 目錄下建立 config 檔案</h3>
<pre><code>/Users/bijen/.ssh
</code></pre><p>注意， config 檔案要跟 private &amp; public key 放在相同層級中。</p>
<h3 id="config-內容寫法">config 內容寫法</h3>
<pre><code>Host [your-ssh-name / 未來使用ssh連線時的代稱，可自行取名]
    HostName [ip or domain / 連線的目的地 ip 或 domain name]
    User [connect-account / 用來連線的帳號]
    PreferredAuthentications [驗證方式]
    IdentitiesOnly [是否只接受 ssh key 登入]
    IdentityFile [absolute path/ 用來驗證的檔案絕對位置，例如 public key path]
    UseKeychain [?待查]
    AddKeysToAgent [將連線密鑰存到連線目的地?待查]
</code></pre><h4 id="示範">示範</h4>
<pre><code>Host bijen-bitbucket
    HostName bitbucket.org
    User git
    PreferredAuthentications publickey
    IdentitiesOnly no
    IdentityFile /Users/bijen/.ssh/id_rsa_bijen_bitbucket
    UseKeychain yes
    AddKeysToAgent yes

Host bijen-gcp
    HostName [104.199.xxx.xx/ my-gcp-server-ip]
    User bijen.chen
    PreferredAuthentications publickey
    IdentitiesOnly no
    IdentityFile /Users/bijen/.ssh/id_rsa_bijen
    UseKeychain yes
    AddKeysToAgent yes

Host bijen-aws
    HostName [my-aws-server-ip]
    User bijen.chen
    PreferredAuthentications publickey
    IdentitiesOnly no
    IdentityFile /Users/bijen/.ssh/id_rsa_bijen
    UseKeychain yes
    AddKeysToAgent yes
</code></pre><h4 id="說明">說明</h4>
<h5 id="當我想連線至-bitbucket-時">當我想連線至 bitbucket 時</h5>
<ol>
<li>terminal 輸入 <code>ssh bijen-bitbucket</code></li>
<li>此時會用以下資訊連線至 bitbucket.org
<ul>
<li>使用者帳號: git</li>
<li>密鑰: id_rsa_bijen_bitbucket</li>
</ul>
</li>
</ol>
<h5 id="當我想連線至-gcp--aws-時">當我想連線至 gcp / aws 時</h5>
<ol>
<li>terminal 輸入 <code>ssh bijen-gcp</code> / <code>ssh bijen-aws</code></li>
<li>此時會用以下資訊連線至 gcp / aws 的 ip
<ul>
<li>使用者帳號: bijen.chen</li>
<li>密鑰: id_rsa_bijen</li>
</ul>
</li>
</ol>
<p>==note: 可以用相同的密鑰連線至不同的 server，不見得都要用不一樣的登入名稱與密鑰==</p>
<h2 id="如何使用-ssh-tunnel-連線-port-轉發">如何使用 ssh tunnel 連線 port 轉發</h2>
<pre><code>ssh -L &lt;本地端 port&gt;:&lt;遠端主機 ip / dns&gt;:&lt;遠端主機 port&gt; &lt;ssh 連線遠端主機 ip / dns&gt;
</code></pre><p>可以設定由本地指定 port 與遠端指定 port 對接，同時指定對接的身份，所以也可以達到透過跳板連線到遠端主機的目的。
舉例如下:</p>
<p>本地 33066 port 想要連線至遠端伺服器的 3306 port，分兩種情況：</p>
<ol>
<li>本地有 ssh 至遠端伺服器的權限時</li>
</ol>
<pre><code>ssh -L 33066:&lt;remote-ip/dns&gt;:3306 -N &lt;ssh-user&gt;@&lt;remote-ip/dns&gt;
</code></pre><ol start="2">
<li>本地無 ssh 至遠端伺服器的權限，但中介伺服器有權限時</li>
</ol>
<pre><code>ssh -L 33066:&lt;A-remote-ip/dns&gt;:3306 -N &lt;ssh-user&gt;@&lt;B-remote-ip/dns&gt;
</code></pre><p>說明:</p>
<p>示範中的「A-remote」是遠端 mysql 資料庫所在的伺服器，本地無權連線。</p>
<p>但是本地可連線至中介伺服器「B-remote」，「B-remote」的該登入使用者(ssh-user)是有權連線至「A-remote」的，</p>
<p>所以此時的 ssh tunnel 行為會是：</p>
<p>以 127.0.0.1 (=本地) 33066 port 接上 B-remote 的 33066 port ， B-remote 再以「 B-remote 本地」的身份，以「B-remote 本地 33066 port 」接上 A-remote 3306 port //TODO:????待確認</p>
<p>因此，專案裡的資料庫連線設定應該是以本地使用者連線， tunnel 才能成功打通。</p>
<p>像是 laravel 的 .env 設定檔就會長這樣:</p>
<pre><code>DB_BIJEN_HOST=127.0.0.1           # 以本地身份連結(這邊的本地同時代表「真實的本地」以及「中介伺服器的本地」)
DB_BIJEN_PORT=33066               # 要用來連結的本地 port (這邊的本地意義同上)
DB_BIJEN_DATABASE=database_BIJEN  # 欲連線的資料庫名稱
DB_BIJEN_USERNAME=bijen           # 欲連線的資料庫登入資訊
DB_BIJEN_PASSWORD=*******         # 欲連線的資料庫登入資訊
</code></pre><h2 id="參考資料">參考資料</h2>
<ul>
<li><a href="https://jennycodes.me/posts/security-ssh">你該知道所有關於 SSH 的那些事</a></li>
<li><a href="http://linux.vbird.org/linux_server/0310telnetssh.php">第十一章、遠端連線伺服器SSH / XDMCP / VNC / RDP</a></li>
<li><a href="https://luohoufu.github.io/2016/07/21/deepin2/">利用 ssh 的用户配置文件 config 管理 ssh 会话</a>
<ul>
<li>PreferredAuthentications</li>
</ul>
</li>
<li><a href="https://man.openbsd.org/ssh_config.5">OpenBSD manual page server SSH_CONFIG(5)</a>
<ul>
<li>各種 config 可以設定的項目</li>
</ul>
</li>
</ul>
<p><strong>KJ的筆記</strong></p>
<ul>
<li><a href="https://ubuntu-for-newbie.kejyun.com/docs/network/ssh/config/">Ubuntu 系統網路 ssh config 指令</a></li>
<li><a href="https://ubuntu-for-newbie.kejyun.com/docs/network/ssh/ssh-tunnel-port-forward/">ssh tunnel 連線 port 轉發</a></li>
</ul>
<h2 id="延伸閱讀">延伸閱讀</h2>
<ul>
<li><a href="https://www.tecmint.com/create-ssh-tunneling-port-forwarding-in-linux/">How to Create SSH Tunneling or Port Forwarding in Linux</a></li>
<li><a href="https://www.ssh.com/ssh/config/">SSH Config File</a></li>
<li><a href="https://xenby.com/b/220-%E6%95%99%E5%AD%B8-%E7%94%A2%E7%94%9Fssh-key%E4%B8%A6%E4%B8%94%E9%80%8F%E9%81%8Ekey%E9%80%B2%E8%A1%8C%E5%85%8D%E5%AF%86%E7%A2%BC%E7%99%BB%E5%85%A5">[教學] 產生SSH Key並且透過KEY進行免密碼登入</a></li>
</ul>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/posts/roadmap-developer/general/" title="共通知識"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/posts/roadmap-developer/backend/" title="後端工程師" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1626259974"></script>
    <script src="/js/perfect-scrollbar.min.js?1626259974"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1626259974"></script>
    <script src="/js/jquery.sticky.js?1626259974"></script>
    <script src="/js/featherlight.min.js?1626259974"></script>
    <script src="/js/highlight.pack.js?1626259974"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1626259974"></script>
    <script src="/js/learn.js?1626259974"></script>
    <script src="/js/hugo-learn.js?1626259974"></script>
    
        
            <script src="/mermaid/mermaid.js?1626259974"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

